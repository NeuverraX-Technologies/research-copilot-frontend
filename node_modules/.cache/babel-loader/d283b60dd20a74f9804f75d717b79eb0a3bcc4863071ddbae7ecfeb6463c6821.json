{"ast":null,"code":"var _jsxFileName = \"D:\\\\NeuverraX-Tech_Workspace\\\\Agentic-AI-PRD\\\\Research-copilot\\\\research-copilot-frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\n// src/App.js - Enhanced with Authentication & Subscription Management\nimport React, { useState, useRef, useEffect } from \"react\";\nimport Sidebar from \"./components/Sidebar\";\nimport QueryBox from \"./components/QueryBox\";\nimport ResultsPanel from \"./components/ResultsPanel\";\nimport SettingsModal from \"./components/SettingsModal\";\nimport SubscriptionModal from \"./components/SubscriptionModal\";\nimport AuthModal from \"./components/AuthModal\";\nimport { fetchAIResponse } from \"./api/fetchAIResponse\";\nimport { AuthProvider, useAuth } from \"./context/AuthContext\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction AppContent() {\n  _s();\n  const [sidebarOpen, setSidebarOpen] = useState(true);\n  const [chatHistory, setChatHistory] = useState([]);\n  const [settingsOpen, setSettingsOpen] = useState(false);\n  const [subModalOpen, setSubModalOpen] = useState(false);\n  const [authModalOpen, setAuthModalOpen] = useState(false);\n  const [upgradeReason, setUpgradeReason] = useState(\"limit\"); // limit, feature, quality\n\n  const [activeView, setActiveView] = useState(\"home\");\n  const resultsEndRef = useRef(null);\n  const [processing, setProcessing] = useState(false);\n  const {\n    currentUser,\n    canMakeQuery,\n    incrementQueryCount,\n    upgradeToPro,\n    getQueriesRemaining,\n    getTimeUntilReset\n  } = useAuth();\n  const handleQuerySubmit = async query => {\n    if (!query || !query.trim() || processing) return;\n\n    // Check if user is logged in\n    if (!currentUser) {\n      setAuthModalOpen(true);\n      return;\n    }\n\n    // Check if user can make a query\n    if (!canMakeQuery()) {\n      setUpgradeReason(\"limit\");\n      setSubModalOpen(true);\n      return;\n    }\n    setProcessing(true);\n\n    // Increment query count\n    incrementQueryCount();\n    const placeholderItem = {\n      query,\n      summary: \"\",\n      sections: [],\n      references: [],\n      keyTerms: [],\n      relatedFields: [],\n      suggestedCollaborations: [],\n      response: \"â³ Research Copilot is conducting comprehensive analysis...\",\n      timestamp: Date.now(),\n      loading: true\n    };\n    setChatHistory(prev => [...prev, placeholderItem]);\n    try {\n      const result = await fetchAIResponse(query);\n\n      // If free user, limit the response\n      let processedResult = result;\n      if (currentUser.subscriptionTier === 'free') {\n        var _result$sections, _result$references;\n        processedResult = {\n          ...result,\n          sections: ((_result$sections = result.sections) === null || _result$sections === void 0 ? void 0 : _result$sections.slice(0, 6)) || [],\n          // Only 6 sections for free\n          references: ((_result$references = result.references) === null || _result$references === void 0 ? void 0 : _result$references.slice(0, 15)) || [] // Only 15 references for free\n        };\n      }\n      setChatHistory(prev => {\n        const updated = [...prev];\n        const lastIndex = updated.length - 1;\n        updated[lastIndex] = {\n          ...updated[lastIndex],\n          summary: processedResult.summary || \"\",\n          sections: processedResult.sections || [],\n          references: processedResult.references || [],\n          keyTerms: processedResult.keyTerms || [],\n          relatedFields: processedResult.relatedFields || [],\n          suggestedCollaborations: processedResult.suggestedCollaborations || [],\n          response: processedResult.summary || \"No response returned from Research Copilot\",\n          loading: false,\n          tier: currentUser.subscriptionTier // Track which tier was used\n        };\n        return updated;\n      });\n\n      // Show upgrade nudge for free users after 3rd query\n      if (currentUser.subscriptionTier === 'free' && currentUser.queriesUsedToday === 3) {\n        setTimeout(() => {\n          // Show a subtle nudge\n          console.log(\"Consider upgrading to Pro for unlimited queries!\");\n        }, 2000);\n      }\n    } catch (err) {\n      console.error(\"Error in fetchAIResponse:\", err);\n      setChatHistory(prev => {\n        const updated = [...prev];\n        const lastIndex = updated.length - 1;\n        updated[lastIndex] = {\n          ...updated[lastIndex],\n          response: \"âš ï¸ Error: Could not fetch AI response. Please check server logs.\",\n          loading: false\n        };\n        return updated;\n      });\n    } finally {\n      setProcessing(false);\n    }\n  };\n  const handleSubscribe = plan => {\n    if (!currentUser) {\n      setAuthModalOpen(true);\n      return;\n    }\n    if (plan === 'enterprise') {\n      // Open email client for enterprise inquiries\n      window.location.href = 'mailto:info@neuverrax.com?subject=Enterprise Plan Inquiry';\n      setSubModalOpen(false);\n      return;\n    }\n\n    // In production, this would integrate with Razorpay\n    // For now, we'll just upgrade the user\n    const updatedUser = upgradeToPro(plan);\n\n    // Show success message\n    alert(`ðŸŽ‰ Successfully upgraded to Pro!\\n\\nYour new benefits:\\nâ€¢ Unlimited queries per day\\nâ€¢ Enhanced 9-section analysis\\nâ€¢ 18-25 references per query\\nâ€¢ Priority processing\\nâ€¢ Export to PDF, BibTeX, Markdown\\n\\nEnjoy your research!`);\n    setSubModalOpen(false);\n  };\n  useEffect(() => {\n    var _resultsEndRef$curren;\n    const urlParams = new URLSearchParams(window.location.search);\n    const paymentStatus = urlParams.get('payment');\n    const token = urlParams.get('token');\n    const plan = urlParams.get('plan');\n    if (paymentStatus === 'success' && token && currentUser) {\n      // Verify subscription with backend\n      fetch('http://localhost:5000/api/verify-subscription', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          token: token,\n          userId: currentUser.uid\n        })\n      }).then(res => res.json()).then(data => {\n        if (data.success) {\n          // Update local user state\n          upgradeToPro(plan);\n\n          // Show success message\n          alert(`ðŸŽ‰ Payment Successful!\\n\\nYou're now a Pro member!\\n\\nEnjoy unlimited queries and all Pro features.`);\n\n          // Clean URL\n          window.history.replaceState({}, document.title, window.location.pathname);\n        }\n      }).catch(err => {\n        console.error('Subscription verification failed:', err);\n      });\n    }\n    (_resultsEndRef$curren = resultsEndRef.current) === null || _resultsEndRef$curren === void 0 ? void 0 : _resultsEndRef$curren.scrollIntoView({\n      behavior: \"smooth\"\n    });\n  }, [currentUser], [chatHistory]);\n  const renderContent = () => {\n    var _currentUser$displayN, _currentUser$displayN2;\n    switch (activeView) {\n      case \"home\":\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1 flex flex-col justify-end p-6 w-full bg-gray-50\",\n          children: [currentUser && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4 bg-white rounded-lg shadow-sm p-4 max-w-5xl mx-auto w-full\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-10 h-10 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full flex items-center justify-center text-white font-bold\",\n                  children: ((_currentUser$displayN = currentUser.displayName) === null || _currentUser$displayN === void 0 ? void 0 : (_currentUser$displayN2 = _currentUser$displayN[0]) === null || _currentUser$displayN2 === void 0 ? void 0 : _currentUser$displayN2.toUpperCase()) || 'U'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 193,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"font-semibold text-gray-800\",\n                    children: currentUser.displayName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 197,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs text-gray-600\",\n                    children: [currentUser.subscriptionTier === 'free' && /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [\"Queries today: \", currentUser.queriesUsedToday, \"/\", currentUser.dailyQueryLimit]\n                    }, void 0, true), currentUser.subscriptionTier === 'pro' && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-blue-600 font-medium\",\n                      children: \"Pro \\u2022 Unlimited queries\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 205,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 198,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 196,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 19\n              }, this), currentUser.subscriptionTier === 'free' && currentUser.queriesUsedToday < 3 && /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  setUpgradeReason(\"quality\");\n                  setSubModalOpen(true);\n                },\n                className: \"px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg text-sm font-semibold hover:from-blue-700 hover:to-purple-700 transition\",\n                children: \"Upgrade to Pro\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 17\n            }, this), currentUser.subscriptionTier === 'free' && currentUser.queriesUsedToday >= 3 && currentUser.queriesUsedToday < 5 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-3 bg-orange-50 border border-orange-200 rounded-lg p-3\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-orange-800\",\n                  children: [\"\\u26A0\\uFE0F \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: [5 - currentUser.queriesUsedToday, \" \", 5 - currentUser.queriesUsedToday === 1 ? 'query' : 'queries', \" remaining today.\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 230,\n                    columnNumber: 28\n                  }, this), ' ', \"Upgrade to Pro for unlimited queries.\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 229,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => {\n                    setUpgradeReason(\"limit\");\n                    setSubModalOpen(true);\n                  },\n                  className: \"ml-4 px-3 py-1 bg-orange-600 text-white rounded text-sm font-semibold hover:bg-orange-700 transition whitespace-nowrap\",\n                  children: \"Upgrade\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 233,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ResultsPanel, {\n            chatHistory: chatHistory,\n            resultsEndRef: resultsEndRef\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 13\n          }, this), currentUser && currentUser.subscriptionTier === 'free' && currentUser.queriesUsedToday === 4 && chatHistory.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4 bg-gradient-to-r from-blue-50 to-purple-50 border-2 border-blue-200 rounded-lg p-4 max-w-5xl mx-auto w-full\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-start justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"font-semibold text-gray-800 mb-2\",\n                  children: \"\\uD83C\\uDF1F You're One Query Away from Your Limit!\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-700 mb-2\",\n                  children: \"Upgrade to Pro to unlock:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 259,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                  className: \"text-sm text-gray-700 space-y-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                    children: [\"\\u2713 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Unlimited queries\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 261,\n                      columnNumber: 29\n                    }, this), \" every day\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 261,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: [\"\\u2713 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"3 additional sections\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 262,\n                      columnNumber: 29\n                    }, this), \" (9 total vs 6)\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 262,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: [\"\\u2713 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"8-10 more references\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 263,\n                      columnNumber: 29\n                    }, this), \" per query\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 263,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: [\"\\u2713 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Export to PDF\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 264,\n                      columnNumber: 29\n                    }, this), \" with citations\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 264,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 260,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  setUpgradeReason(\"quality\");\n                  setSubModalOpen(true);\n                },\n                className: \"ml-4 px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg text-sm font-semibold hover:from-blue-700 hover:to-purple-700 transition whitespace-nowrap\",\n                children: \"Upgrade Now\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(QueryBox, {\n            onSubmit: handleQuerySubmit,\n            processing: processing\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 11\n        }, this);\n      case \"dashboard\":\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1 p-6 bg-gray-50\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"max-w-4xl mx-auto\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-3xl font-bold mb-6 text-gray-800\",\n              children: \"Research Dashboard\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 15\n            }, this), !currentUser ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white rounded-lg shadow p-8 text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-600 mb-4\",\n                children: \"Please login to view your dashboard\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setAuthModalOpen(true),\n                className: \"px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700\",\n                children: \"Login / Sign Up\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 293,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-white rounded-lg shadow p-6\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"text-sm font-semibold text-gray-600 mb-2\",\n                    children: \"Queries Today\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 304,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-4xl font-bold text-blue-600\",\n                    children: [currentUser.queriesUsedToday, currentUser.subscriptionTier === 'free' && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-lg text-gray-400\",\n                      children: [\"/\", currentUser.dailyQueryLimit]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 308,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 305,\n                    columnNumber: 23\n                  }, this), currentUser.subscriptionTier === 'free' && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs text-gray-500 mt-2\",\n                    children: [\"Resets in \", getTimeUntilReset().hours, \"h \", getTimeUntilReset().minutes, \"m\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 312,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 303,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-white rounded-lg shadow p-6\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"text-sm font-semibold text-gray-600 mb-2\",\n                    children: \"Account Type\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 319,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-4xl font-bold text-green-600 capitalize\",\n                    children: currentUser.subscriptionTier\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 320,\n                    columnNumber: 23\n                  }, this), currentUser.isStudent && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs text-green-600 mt-2\",\n                    children: \"\\uD83C\\uDF93 Student Discount Active\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 324,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 318,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-white rounded-lg shadow p-6\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"text-sm font-semibold text-gray-600 mb-2\",\n                    children: \"Total Queries\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 329,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-4xl font-bold text-purple-600\",\n                    children: currentUser.totalQueriesAllTime\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 330,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs text-gray-500 mt-2\",\n                    children: \"All time\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 333,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 328,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 302,\n                columnNumber: 19\n              }, this), currentUser.subscriptionTier === 'free' && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg shadow-lg p-6 text-white\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-xl font-bold mb-2\",\n                  children: \"Upgrade to Pro\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 339,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"mb-4\",\n                  children: \"Unlock unlimited queries and advanced features\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 340,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex gap-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex-1 bg-white/20 backdrop-blur-sm rounded-lg p-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm mb-1\",\n                      children: \"Monthly\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 343,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-2xl font-bold\",\n                      children: [\"\\u20B9\", currentUser.isStudent ? '239' : '399', /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-sm font-normal\",\n                        children: \"/month\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 346,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 344,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 342,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex-1 bg-white/20 backdrop-blur-sm rounded-lg p-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm mb-1\",\n                      children: [\"Annual \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-xs\",\n                        children: \"(Save 17%)\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 350,\n                        columnNumber: 62\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 350,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-2xl font-bold\",\n                      children: [\"\\u20B9\", currentUser.isStudent ? '2,399' : '3,999', /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-sm font-normal\",\n                        children: \"/year\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 353,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 351,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 349,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 341,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setSubModalOpen(true),\n                  className: \"mt-4 w-full bg-white text-blue-600 px-6 py-3 rounded-lg font-semibold hover:bg-gray-100 transition\",\n                  children: \"Upgrade Now\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 357,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 338,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 11\n        }, this);\n      case \"myQueries\":\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1 p-6 overflow-auto bg-gray-50\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"max-w-5xl mx-auto\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-3xl font-bold mb-6 text-gray-800\",\n              children: \"Research Archive\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 15\n            }, this), !currentUser ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white rounded-lg shadow p-8 text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-600 mb-4\",\n                children: \"Please login to view your query history\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 379,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setAuthModalOpen(true),\n                className: \"px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700\",\n                children: \"Login / Sign Up\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 380,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 378,\n              columnNumber: 17\n            }, this) : chatHistory.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white rounded-lg shadow p-12 text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-500 text-lg\",\n                children: \"No research queries yet.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 389,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-400 mt-2\",\n                children: \"Start by asking a research question!\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 390,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setActiveView(\"home\"),\n                className: \"mt-4 px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700\",\n                children: \"Start Research\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 391,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 388,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-6\",\n              children: chatHistory.map((item, index) => {\n                var _item$sections, _item$references, _item$keyTerms;\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-start justify-between mb-4\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex-1\",\n                      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                        className: \"font-bold text-lg text-gray-800 mb-1\",\n                        children: item.query\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 404,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-xs text-gray-500\",\n                        children: new Date(item.timestamp).toLocaleString()\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 405,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 403,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex gap-2\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-semibold capitalize\",\n                        children: item.tier || 'free'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 410,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"px-3 py-1 bg-gray-100 text-gray-800 rounded-full text-xs font-semibold\",\n                        children: [\"#\", index + 1]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 413,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 409,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 402,\n                    columnNumber: 23\n                  }, this), item.summary && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mb-4 p-4 bg-gray-50 rounded border-l-4 border-blue-500\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm font-semibold text-gray-700 mb-2\",\n                      children: \"Summary\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 421,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-gray-700 text-sm leading-relaxed line-clamp-3\",\n                      children: item.summary\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 422,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 420,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex gap-4 text-sm text-gray-600\",\n                    children: [((_item$sections = item.sections) === null || _item$sections === void 0 ? void 0 : _item$sections.length) > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: [\"\\uD83D\\uDCC4 \", item.sections.length, \" sections\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 428,\n                      columnNumber: 27\n                    }, this), ((_item$references = item.references) === null || _item$references === void 0 ? void 0 : _item$references.length) > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: [\"\\uD83D\\uDCDA \", item.references.length, \" references\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 431,\n                      columnNumber: 27\n                    }, this), ((_item$keyTerms = item.keyTerms) === null || _item$keyTerms === void 0 ? void 0 : _item$keyTerms.length) > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: [\"\\uD83C\\uDFF7\\uFE0F \", item.keyTerms.length, \" key terms\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 434,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 426,\n                    columnNumber: 23\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 401,\n                  columnNumber: 21\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 399,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 11\n        }, this);\n      default:\n        return null;\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex h-screen\",\n    children: [sidebarOpen && /*#__PURE__*/_jsxDEV(Sidebar, {\n      close: () => setSidebarOpen(false),\n      onSettingsClick: () => setSettingsOpen(true),\n      onUpgradeClick: () => {\n        setUpgradeReason(\"feature\");\n        setSubModalOpen(true);\n      },\n      onLoginClick: () => setAuthModalOpen(true),\n      activeView: activeView,\n      setActiveView: setActiveView,\n      currentUser: currentUser\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 453,\n      columnNumber: 9\n    }, this), renderContent(), /*#__PURE__*/_jsxDEV(SettingsModal, {\n      isOpen: settingsOpen,\n      onClose: () => setSettingsOpen(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 469,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SubscriptionModal, {\n      isOpen: subModalOpen,\n      onClose: () => setSubModalOpen(false),\n      onSubscribe: handleSubscribe,\n      currentPlan: (currentUser === null || currentUser === void 0 ? void 0 : currentUser.subscriptionTier) || \"free\",\n      reason: upgradeReason\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 471,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AuthModal, {\n      isOpen: authModalOpen,\n      onClose: () => setAuthModalOpen(false),\n      initialMode: \"login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 479,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 451,\n    columnNumber: 5\n  }, this);\n}\n\n// Wrap with AuthProvider\n_s(AppContent, \"H8hqnML3ZC95+TDgkbh3mkuNdEw=\", false, function () {\n  return [useAuth];\n});\n_c = AppContent;\nfunction App() {\n  return /*#__PURE__*/_jsxDEV(AuthProvider, {\n    children: /*#__PURE__*/_jsxDEV(AppContent, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 492,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 491,\n    columnNumber: 5\n  }, this);\n}\n_c2 = App;\nexport default App;\nvar _c, _c2;\n$RefreshReg$(_c, \"AppContent\");\n$RefreshReg$(_c2, \"App\");","map":{"version":3,"names":["React","useState","useRef","useEffect","Sidebar","QueryBox","ResultsPanel","SettingsModal","SubscriptionModal","AuthModal","fetchAIResponse","AuthProvider","useAuth","jsxDEV","_jsxDEV","Fragment","_Fragment","AppContent","_s","sidebarOpen","setSidebarOpen","chatHistory","setChatHistory","settingsOpen","setSettingsOpen","subModalOpen","setSubModalOpen","authModalOpen","setAuthModalOpen","upgradeReason","setUpgradeReason","activeView","setActiveView","resultsEndRef","processing","setProcessing","currentUser","canMakeQuery","incrementQueryCount","upgradeToPro","getQueriesRemaining","getTimeUntilReset","handleQuerySubmit","query","trim","placeholderItem","summary","sections","references","keyTerms","relatedFields","suggestedCollaborations","response","timestamp","Date","now","loading","prev","result","processedResult","subscriptionTier","_result$sections","_result$references","slice","updated","lastIndex","length","tier","queriesUsedToday","setTimeout","console","log","err","error","handleSubscribe","plan","window","location","href","updatedUser","alert","_resultsEndRef$curren","urlParams","URLSearchParams","search","paymentStatus","get","token","fetch","method","headers","body","JSON","stringify","userId","uid","then","res","json","data","success","history","replaceState","document","title","pathname","catch","current","scrollIntoView","behavior","renderContent","_currentUser$displayN","_currentUser$displayN2","className","children","displayName","toUpperCase","fileName","_jsxFileName","lineNumber","columnNumber","dailyQueryLimit","onClick","onSubmit","hours","minutes","isStudent","totalQueriesAllTime","map","item","index","_item$sections","_item$references","_item$keyTerms","toLocaleString","close","onSettingsClick","onUpgradeClick","onLoginClick","isOpen","onClose","onSubscribe","currentPlan","reason","initialMode","_c","App","_c2","$RefreshReg$"],"sources":["D:/NeuverraX-Tech_Workspace/Agentic-AI-PRD/Research-copilot/research-copilot-frontend/src/App.js"],"sourcesContent":["// src/App.js - Enhanced with Authentication & Subscription Management\nimport React, { useState, useRef, useEffect } from \"react\";\nimport Sidebar from \"./components/Sidebar\";\nimport QueryBox from \"./components/QueryBox\";\nimport ResultsPanel from \"./components/ResultsPanel\";\nimport SettingsModal from \"./components/SettingsModal\";\nimport SubscriptionModal from \"./components/SubscriptionModal\";\nimport AuthModal from \"./components/AuthModal\";\nimport { fetchAIResponse } from \"./api/fetchAIResponse\";\nimport { AuthProvider, useAuth } from \"./context/AuthContext\";\n\nfunction AppContent() {\n  const [sidebarOpen, setSidebarOpen] = useState(true);\n  const [chatHistory, setChatHistory] = useState([]);\n  const [settingsOpen, setSettingsOpen] = useState(false);\n  const [subModalOpen, setSubModalOpen] = useState(false);\n  const [authModalOpen, setAuthModalOpen] = useState(false);\n  const [upgradeReason, setUpgradeReason] = useState(\"limit\"); // limit, feature, quality\n\n  const [activeView, setActiveView] = useState(\"home\");\n  const resultsEndRef = useRef(null);\n  const [processing, setProcessing] = useState(false);\n\n  const { \n    currentUser, \n    canMakeQuery, \n    incrementQueryCount, \n    upgradeToPro,\n    getQueriesRemaining,\n    getTimeUntilReset \n  } = useAuth();\n\n  const handleQuerySubmit = async (query) => {\n    if (!query || !query.trim() || processing) return;\n\n    // Check if user is logged in\n    if (!currentUser) {\n      setAuthModalOpen(true);\n      return;\n    }\n\n    // Check if user can make a query\n    if (!canMakeQuery()) {\n      setUpgradeReason(\"limit\");\n      setSubModalOpen(true);\n      return;\n    }\n\n    setProcessing(true);\n    \n    // Increment query count\n    incrementQueryCount();\n\n    const placeholderItem = {\n      query,\n      summary: \"\",\n      sections: [],\n      references: [],\n      keyTerms: [],\n      relatedFields: [],\n      suggestedCollaborations: [],\n      response: \"â³ Research Copilot is conducting comprehensive analysis...\",\n      timestamp: Date.now(),\n      loading: true,\n    };\n    setChatHistory((prev) => [...prev, placeholderItem]);\n\n    try {\n      const result = await fetchAIResponse(query);\n\n      // If free user, limit the response\n      let processedResult = result;\n      if (currentUser.subscriptionTier === 'free') {\n        processedResult = {\n          ...result,\n          sections: result.sections?.slice(0, 6) || [], // Only 6 sections for free\n          references: result.references?.slice(0, 15) || [], // Only 15 references for free\n        };\n      }\n\n      setChatHistory((prev) => {\n        const updated = [...prev];\n        const lastIndex = updated.length - 1;\n        updated[lastIndex] = {\n          ...updated[lastIndex],\n          summary: processedResult.summary || \"\",\n          sections: processedResult.sections || [],\n          references: processedResult.references || [],\n          keyTerms: processedResult.keyTerms || [],\n          relatedFields: processedResult.relatedFields || [],\n          suggestedCollaborations: processedResult.suggestedCollaborations || [],\n          response: processedResult.summary || \"No response returned from Research Copilot\",\n          loading: false,\n          tier: currentUser.subscriptionTier // Track which tier was used\n        };\n        return updated;\n      });\n\n      // Show upgrade nudge for free users after 3rd query\n      if (currentUser.subscriptionTier === 'free' && currentUser.queriesUsedToday === 3) {\n        setTimeout(() => {\n          // Show a subtle nudge\n          console.log(\"Consider upgrading to Pro for unlimited queries!\");\n        }, 2000);\n      }\n\n    } catch (err) {\n      console.error(\"Error in fetchAIResponse:\", err);\n      setChatHistory((prev) => {\n        const updated = [...prev];\n        const lastIndex = updated.length - 1;\n        updated[lastIndex] = {\n          ...updated[lastIndex],\n          response: \"âš ï¸ Error: Could not fetch AI response. Please check server logs.\",\n          loading: false,\n        };\n        return updated;\n      });\n    } finally {\n      setProcessing(false);\n    }\n  };\n\n  const handleSubscribe = (plan) => {\n    if (!currentUser) {\n      setAuthModalOpen(true);\n      return;\n    }\n\n    if (plan === 'enterprise') {\n      // Open email client for enterprise inquiries\n      window.location.href = 'mailto:info@neuverrax.com?subject=Enterprise Plan Inquiry';\n      setSubModalOpen(false);\n      return;\n    }\n\n    // In production, this would integrate with Razorpay\n    // For now, we'll just upgrade the user\n    const updatedUser = upgradeToPro(plan);\n    \n    // Show success message\n    alert(`ðŸŽ‰ Successfully upgraded to Pro!\\n\\nYour new benefits:\\nâ€¢ Unlimited queries per day\\nâ€¢ Enhanced 9-section analysis\\nâ€¢ 18-25 references per query\\nâ€¢ Priority processing\\nâ€¢ Export to PDF, BibTeX, Markdown\\n\\nEnjoy your research!`);\n    \n    setSubModalOpen(false);\n  };\n\n  useEffect(() => {\n    const urlParams = new URLSearchParams(window.location.search);\n    const paymentStatus = urlParams.get('payment');\n    const token = urlParams.get('token');\n    const plan = urlParams.get('plan');\n\n    if (paymentStatus === 'success' && token && currentUser) {\n      // Verify subscription with backend\n      fetch('http://localhost:5000/api/verify-subscription', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          token: token,\n          userId: currentUser.uid\n        })\n      })\n      .then(res => res.json())\n      .then(data => {\n        if (data.success) {\n          // Update local user state\n          upgradeToPro(plan);\n          \n          // Show success message\n          alert(`ðŸŽ‰ Payment Successful!\\n\\nYou're now a Pro member!\\n\\nEnjoy unlimited queries and all Pro features.`);\n          \n          // Clean URL\n          window.history.replaceState({}, document.title, window.location.pathname);\n        }\n      })\n      .catch(err => {\n        console.error('Subscription verification failed:', err);\n      });\n    }\n    resultsEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  }, [currentUser], [chatHistory]);\n\n  const renderContent = () => {\n    switch (activeView) {\n      case \"home\":\n        return (\n          <div className=\"flex-1 flex flex-col justify-end p-6 w-full bg-gray-50\">\n            {/* User Status Bar - Smart Display */}\n            {currentUser && (\n              <div className=\"mb-4 bg-white rounded-lg shadow-sm p-4 max-w-5xl mx-auto w-full\">\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"flex items-center gap-4\">\n                    <div className=\"w-10 h-10 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full flex items-center justify-center text-white font-bold\">\n                      {currentUser.displayName?.[0]?.toUpperCase() || 'U'}\n                    </div>\n                    <div>\n                      <p className=\"font-semibold text-gray-800\">{currentUser.displayName}</p>\n                      <p className=\"text-xs text-gray-600\">\n                        {currentUser.subscriptionTier === 'free' && (\n                          <>\n                            Queries today: {currentUser.queriesUsedToday}/{currentUser.dailyQueryLimit}\n                          </>\n                        )}\n                        {currentUser.subscriptionTier === 'pro' && (\n                          <span className=\"text-blue-600 font-medium\">Pro â€¢ Unlimited queries</span>\n                        )}\n                      </p>\n                    </div>\n                  </div>\n                  \n                  {/* Show upgrade button ONLY if queries < 3 (not pushy yet) */}\n                  {currentUser.subscriptionTier === 'free' && currentUser.queriesUsedToday < 3 && (\n                    <button\n                      onClick={() => {\n                        setUpgradeReason(\"quality\");\n                        setSubModalOpen(true);\n                      }}\n                      className=\"px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg text-sm font-semibold hover:from-blue-700 hover:to-purple-700 transition\"\n                    >\n                      Upgrade to Pro\n                    </button>\n                  )}\n                </div>\n\n                {/* Smart Warning System - Shows at queries 3-4 only */}\n                {currentUser.subscriptionTier === 'free' && currentUser.queriesUsedToday >= 3 && currentUser.queriesUsedToday < 5 && (\n                  <div className=\"mt-3 bg-orange-50 border border-orange-200 rounded-lg p-3\">\n                    <div className=\"flex items-center justify-between\">\n                      <p className=\"text-sm text-orange-800\">\n                        âš ï¸ <strong>{5 - currentUser.queriesUsedToday} {5 - currentUser.queriesUsedToday === 1 ? 'query' : 'queries'} remaining today.</strong>\n                        {' '}Upgrade to Pro for unlimited queries.\n                      </p>\n                      <button\n                        onClick={() => {\n                          setUpgradeReason(\"limit\");\n                          setSubModalOpen(true);\n                        }}\n                        className=\"ml-4 px-3 py-1 bg-orange-600 text-white rounded text-sm font-semibold hover:bg-orange-700 transition whitespace-nowrap\"\n                      >\n                        Upgrade\n                      </button>\n                    </div>\n                  </div>\n                )}\n              </div>\n            )}\n\n            <ResultsPanel chatHistory={chatHistory} resultsEndRef={resultsEndRef} />\n            \n            {/* Feature Teaser - ONLY at query 4 (strategic timing) */}\n            {currentUser && \n             currentUser.subscriptionTier === 'free' && \n             currentUser.queriesUsedToday === 4 && \n             chatHistory.length > 0 && (\n              <div className=\"mb-4 bg-gradient-to-r from-blue-50 to-purple-50 border-2 border-blue-200 rounded-lg p-4 max-w-5xl mx-auto w-full\">\n                <div className=\"flex items-start justify-between\">\n                  <div>\n                    <p className=\"font-semibold text-gray-800 mb-2\">ðŸŒŸ You're One Query Away from Your Limit!</p>\n                    <p className=\"text-sm text-gray-700 mb-2\">Upgrade to Pro to unlock:</p>\n                    <ul className=\"text-sm text-gray-700 space-y-1\">\n                      <li>âœ“ <strong>Unlimited queries</strong> every day</li>\n                      <li>âœ“ <strong>3 additional sections</strong> (9 total vs 6)</li>\n                      <li>âœ“ <strong>8-10 more references</strong> per query</li>\n                      <li>âœ“ <strong>Export to PDF</strong> with citations</li>\n                    </ul>\n                  </div>\n                  <button\n                    onClick={() => {\n                      setUpgradeReason(\"quality\");\n                      setSubModalOpen(true);\n                    }}\n                    className=\"ml-4 px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg text-sm font-semibold hover:from-blue-700 hover:to-purple-700 transition whitespace-nowrap\"\n                  >\n                    Upgrade Now\n                  </button>\n                </div>\n              </div>\n            )}\n\n            <QueryBox onSubmit={handleQuerySubmit} processing={processing} />\n          </div>\n        );\n\n      case \"dashboard\":\n        return (\n          <div className=\"flex-1 p-6 bg-gray-50\">\n            <div className=\"max-w-4xl mx-auto\">\n              <h2 className=\"text-3xl font-bold mb-6 text-gray-800\">Research Dashboard</h2>\n              \n              {!currentUser ? (\n                <div className=\"bg-white rounded-lg shadow p-8 text-center\">\n                  <p className=\"text-gray-600 mb-4\">Please login to view your dashboard</p>\n                  <button\n                    onClick={() => setAuthModalOpen(true)}\n                    className=\"px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700\"\n                  >\n                    Login / Sign Up\n                  </button>\n                </div>\n              ) : (\n                <>\n                  <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6\">\n                    <div className=\"bg-white rounded-lg shadow p-6\">\n                      <h3 className=\"text-sm font-semibold text-gray-600 mb-2\">Queries Today</h3>\n                      <p className=\"text-4xl font-bold text-blue-600\">\n                        {currentUser.queriesUsedToday}\n                        {currentUser.subscriptionTier === 'free' && (\n                          <span className=\"text-lg text-gray-400\">/{currentUser.dailyQueryLimit}</span>\n                        )}\n                      </p>\n                      {currentUser.subscriptionTier === 'free' && (\n                        <p className=\"text-xs text-gray-500 mt-2\">\n                          Resets in {getTimeUntilReset().hours}h {getTimeUntilReset().minutes}m\n                        </p>\n                      )}\n                    </div>\n                    \n                    <div className=\"bg-white rounded-lg shadow p-6\">\n                      <h3 className=\"text-sm font-semibold text-gray-600 mb-2\">Account Type</h3>\n                      <p className=\"text-4xl font-bold text-green-600 capitalize\">\n                        {currentUser.subscriptionTier}\n                      </p>\n                      {currentUser.isStudent && (\n                        <p className=\"text-xs text-green-600 mt-2\">ðŸŽ“ Student Discount Active</p>\n                      )}\n                    </div>\n                    \n                    <div className=\"bg-white rounded-lg shadow p-6\">\n                      <h3 className=\"text-sm font-semibold text-gray-600 mb-2\">Total Queries</h3>\n                      <p className=\"text-4xl font-bold text-purple-600\">\n                        {currentUser.totalQueriesAllTime}\n                      </p>\n                      <p className=\"text-xs text-gray-500 mt-2\">All time</p>\n                    </div>\n                  </div>\n\n                  {currentUser.subscriptionTier === 'free' && (\n                    <div className=\"bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg shadow-lg p-6 text-white\">\n                      <h3 className=\"text-xl font-bold mb-2\">Upgrade to Pro</h3>\n                      <p className=\"mb-4\">Unlock unlimited queries and advanced features</p>\n                      <div className=\"flex gap-4\">\n                        <div className=\"flex-1 bg-white/20 backdrop-blur-sm rounded-lg p-3\">\n                          <p className=\"text-sm mb-1\">Monthly</p>\n                          <p className=\"text-2xl font-bold\">\n                            â‚¹{currentUser.isStudent ? '239' : '399'}\n                            <span className=\"text-sm font-normal\">/month</span>\n                          </p>\n                        </div>\n                        <div className=\"flex-1 bg-white/20 backdrop-blur-sm rounded-lg p-3\">\n                          <p className=\"text-sm mb-1\">Annual <span className=\"text-xs\">(Save 17%)</span></p>\n                          <p className=\"text-2xl font-bold\">\n                            â‚¹{currentUser.isStudent ? '2,399' : '3,999'}\n                            <span className=\"text-sm font-normal\">/year</span>\n                          </p>\n                        </div>\n                      </div>\n                      <button\n                        onClick={() => setSubModalOpen(true)}\n                        className=\"mt-4 w-full bg-white text-blue-600 px-6 py-3 rounded-lg font-semibold hover:bg-gray-100 transition\"\n                      >\n                        Upgrade Now\n                      </button>\n                    </div>\n                  )}\n                </>\n              )}\n            </div>\n          </div>\n        );\n\n      case \"myQueries\":\n        return (\n          <div className=\"flex-1 p-6 overflow-auto bg-gray-50\">\n            <div className=\"max-w-5xl mx-auto\">\n              <h2 className=\"text-3xl font-bold mb-6 text-gray-800\">Research Archive</h2>\n              \n              {!currentUser ? (\n                <div className=\"bg-white rounded-lg shadow p-8 text-center\">\n                  <p className=\"text-gray-600 mb-4\">Please login to view your query history</p>\n                  <button\n                    onClick={() => setAuthModalOpen(true)}\n                    className=\"px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700\"\n                  >\n                    Login / Sign Up\n                  </button>\n                </div>\n              ) : chatHistory.length === 0 ? (\n                <div className=\"bg-white rounded-lg shadow p-12 text-center\">\n                  <p className=\"text-gray-500 text-lg\">No research queries yet.</p>\n                  <p className=\"text-gray-400 mt-2\">Start by asking a research question!</p>\n                  <button\n                    onClick={() => setActiveView(\"home\")}\n                    className=\"mt-4 px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700\"\n                  >\n                    Start Research\n                  </button>\n                </div>\n              ) : (\n                <div className=\"space-y-6\">\n                  {chatHistory.map((item, index) => (\n                    <div key={index} className=\"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition\">\n                      <div className=\"flex items-start justify-between mb-4\">\n                        <div className=\"flex-1\">\n                          <h3 className=\"font-bold text-lg text-gray-800 mb-1\">{item.query}</h3>\n                          <p className=\"text-xs text-gray-500\">\n                            {new Date(item.timestamp).toLocaleString()}\n                          </p>\n                        </div>\n                        <div className=\"flex gap-2\">\n                          <span className=\"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-semibold capitalize\">\n                            {item.tier || 'free'}\n                          </span>\n                          <span className=\"px-3 py-1 bg-gray-100 text-gray-800 rounded-full text-xs font-semibold\">\n                            #{index + 1}\n                          </span>\n                        </div>\n                      </div>\n\n                      {item.summary && (\n                        <div className=\"mb-4 p-4 bg-gray-50 rounded border-l-4 border-blue-500\">\n                          <p className=\"text-sm font-semibold text-gray-700 mb-2\">Summary</p>\n                          <p className=\"text-gray-700 text-sm leading-relaxed line-clamp-3\">{item.summary}</p>\n                        </div>\n                      )}\n\n                      <div className=\"flex gap-4 text-sm text-gray-600\">\n                        {item.sections?.length > 0 && (\n                          <span>ðŸ“„ {item.sections.length} sections</span>\n                        )}\n                        {item.references?.length > 0 && (\n                          <span>ðŸ“š {item.references.length} references</span>\n                        )}\n                        {item.keyTerms?.length > 0 && (\n                          <span>ðŸ·ï¸ {item.keyTerms.length} key terms</span>\n                        )}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          </div>\n        );\n\n      default:\n        return null;\n    }\n  };\n\n  return (\n    <div className=\"flex h-screen\">\n      {sidebarOpen && (\n        <Sidebar\n          close={() => setSidebarOpen(false)}\n          onSettingsClick={() => setSettingsOpen(true)}\n          onUpgradeClick={() => {\n            setUpgradeReason(\"feature\");\n            setSubModalOpen(true);\n          }}\n          onLoginClick={() => setAuthModalOpen(true)}\n          activeView={activeView}\n          setActiveView={setActiveView}\n          currentUser={currentUser}\n        />\n      )}\n\n      {renderContent()}\n\n      <SettingsModal isOpen={settingsOpen} onClose={() => setSettingsOpen(false)} />\n\n      <SubscriptionModal\n        isOpen={subModalOpen}\n        onClose={() => setSubModalOpen(false)}\n        onSubscribe={handleSubscribe}\n        currentPlan={currentUser?.subscriptionTier || \"free\"}\n        reason={upgradeReason}\n      />\n\n      <AuthModal\n        isOpen={authModalOpen}\n        onClose={() => setAuthModalOpen(false)}\n        initialMode=\"login\"\n      />\n    </div>\n  );\n}\n\n// Wrap with AuthProvider\nfunction App() {\n  return (\n    <AuthProvider>\n      <AppContent />\n    </AuthProvider>\n  );\n}\n\nexport default App;"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,MAAM,EAAEC,SAAS,QAAQ,OAAO;AAC1D,OAAOC,OAAO,MAAM,sBAAsB;AAC1C,OAAOC,QAAQ,MAAM,uBAAuB;AAC5C,OAAOC,YAAY,MAAM,2BAA2B;AACpD,OAAOC,aAAa,MAAM,4BAA4B;AACtD,OAAOC,iBAAiB,MAAM,gCAAgC;AAC9D,OAAOC,SAAS,MAAM,wBAAwB;AAC9C,SAASC,eAAe,QAAQ,uBAAuB;AACvD,SAASC,YAAY,EAAEC,OAAO,QAAQ,uBAAuB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAE9D,SAASC,UAAUA,CAAA,EAAG;EAAAC,EAAA;EACpB,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGnB,QAAQ,CAAC,IAAI,CAAC;EACpD,MAAM,CAACoB,WAAW,EAAEC,cAAc,CAAC,GAAGrB,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACsB,YAAY,EAAEC,eAAe,CAAC,GAAGvB,QAAQ,CAAC,KAAK,CAAC;EACvD,MAAM,CAACwB,YAAY,EAAEC,eAAe,CAAC,GAAGzB,QAAQ,CAAC,KAAK,CAAC;EACvD,MAAM,CAAC0B,aAAa,EAAEC,gBAAgB,CAAC,GAAG3B,QAAQ,CAAC,KAAK,CAAC;EACzD,MAAM,CAAC4B,aAAa,EAAEC,gBAAgB,CAAC,GAAG7B,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC;;EAE7D,MAAM,CAAC8B,UAAU,EAAEC,aAAa,CAAC,GAAG/B,QAAQ,CAAC,MAAM,CAAC;EACpD,MAAMgC,aAAa,GAAG/B,MAAM,CAAC,IAAI,CAAC;EAClC,MAAM,CAACgC,UAAU,EAAEC,aAAa,CAAC,GAAGlC,QAAQ,CAAC,KAAK,CAAC;EAEnD,MAAM;IACJmC,WAAW;IACXC,YAAY;IACZC,mBAAmB;IACnBC,YAAY;IACZC,mBAAmB;IACnBC;EACF,CAAC,GAAG7B,OAAO,CAAC,CAAC;EAEb,MAAM8B,iBAAiB,GAAG,MAAOC,KAAK,IAAK;IACzC,IAAI,CAACA,KAAK,IAAI,CAACA,KAAK,CAACC,IAAI,CAAC,CAAC,IAAIV,UAAU,EAAE;;IAE3C;IACA,IAAI,CAACE,WAAW,EAAE;MAChBR,gBAAgB,CAAC,IAAI,CAAC;MACtB;IACF;;IAEA;IACA,IAAI,CAACS,YAAY,CAAC,CAAC,EAAE;MACnBP,gBAAgB,CAAC,OAAO,CAAC;MACzBJ,eAAe,CAAC,IAAI,CAAC;MACrB;IACF;IAEAS,aAAa,CAAC,IAAI,CAAC;;IAEnB;IACAG,mBAAmB,CAAC,CAAC;IAErB,MAAMO,eAAe,GAAG;MACtBF,KAAK;MACLG,OAAO,EAAE,EAAE;MACXC,QAAQ,EAAE,EAAE;MACZC,UAAU,EAAE,EAAE;MACdC,QAAQ,EAAE,EAAE;MACZC,aAAa,EAAE,EAAE;MACjBC,uBAAuB,EAAE,EAAE;MAC3BC,QAAQ,EAAE,4DAA4D;MACtEC,SAAS,EAAEC,IAAI,CAACC,GAAG,CAAC,CAAC;MACrBC,OAAO,EAAE;IACX,CAAC;IACDlC,cAAc,CAAEmC,IAAI,IAAK,CAAC,GAAGA,IAAI,EAAEZ,eAAe,CAAC,CAAC;IAEpD,IAAI;MACF,MAAMa,MAAM,GAAG,MAAMhD,eAAe,CAACiC,KAAK,CAAC;;MAE3C;MACA,IAAIgB,eAAe,GAAGD,MAAM;MAC5B,IAAItB,WAAW,CAACwB,gBAAgB,KAAK,MAAM,EAAE;QAAA,IAAAC,gBAAA,EAAAC,kBAAA;QAC3CH,eAAe,GAAG;UAChB,GAAGD,MAAM;UACTX,QAAQ,EAAE,EAAAc,gBAAA,GAAAH,MAAM,CAACX,QAAQ,cAAAc,gBAAA,uBAAfA,gBAAA,CAAiBE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,KAAI,EAAE;UAAE;UAC9Cf,UAAU,EAAE,EAAAc,kBAAA,GAAAJ,MAAM,CAACV,UAAU,cAAAc,kBAAA,uBAAjBA,kBAAA,CAAmBC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,KAAI,EAAE,CAAE;QACrD,CAAC;MACH;MAEAzC,cAAc,CAAEmC,IAAI,IAAK;QACvB,MAAMO,OAAO,GAAG,CAAC,GAAGP,IAAI,CAAC;QACzB,MAAMQ,SAAS,GAAGD,OAAO,CAACE,MAAM,GAAG,CAAC;QACpCF,OAAO,CAACC,SAAS,CAAC,GAAG;UACnB,GAAGD,OAAO,CAACC,SAAS,CAAC;UACrBnB,OAAO,EAAEa,eAAe,CAACb,OAAO,IAAI,EAAE;UACtCC,QAAQ,EAAEY,eAAe,CAACZ,QAAQ,IAAI,EAAE;UACxCC,UAAU,EAAEW,eAAe,CAACX,UAAU,IAAI,EAAE;UAC5CC,QAAQ,EAAEU,eAAe,CAACV,QAAQ,IAAI,EAAE;UACxCC,aAAa,EAAES,eAAe,CAACT,aAAa,IAAI,EAAE;UAClDC,uBAAuB,EAAEQ,eAAe,CAACR,uBAAuB,IAAI,EAAE;UACtEC,QAAQ,EAAEO,eAAe,CAACb,OAAO,IAAI,4CAA4C;UACjFU,OAAO,EAAE,KAAK;UACdW,IAAI,EAAE/B,WAAW,CAACwB,gBAAgB,CAAC;QACrC,CAAC;QACD,OAAOI,OAAO;MAChB,CAAC,CAAC;;MAEF;MACA,IAAI5B,WAAW,CAACwB,gBAAgB,KAAK,MAAM,IAAIxB,WAAW,CAACgC,gBAAgB,KAAK,CAAC,EAAE;QACjFC,UAAU,CAAC,MAAM;UACf;UACAC,OAAO,CAACC,GAAG,CAAC,kDAAkD,CAAC;QACjE,CAAC,EAAE,IAAI,CAAC;MACV;IAEF,CAAC,CAAC,OAAOC,GAAG,EAAE;MACZF,OAAO,CAACG,KAAK,CAAC,2BAA2B,EAAED,GAAG,CAAC;MAC/ClD,cAAc,CAAEmC,IAAI,IAAK;QACvB,MAAMO,OAAO,GAAG,CAAC,GAAGP,IAAI,CAAC;QACzB,MAAMQ,SAAS,GAAGD,OAAO,CAACE,MAAM,GAAG,CAAC;QACpCF,OAAO,CAACC,SAAS,CAAC,GAAG;UACnB,GAAGD,OAAO,CAACC,SAAS,CAAC;UACrBb,QAAQ,EAAE,kEAAkE;UAC5EI,OAAO,EAAE;QACX,CAAC;QACD,OAAOQ,OAAO;MAChB,CAAC,CAAC;IACJ,CAAC,SAAS;MACR7B,aAAa,CAAC,KAAK,CAAC;IACtB;EACF,CAAC;EAED,MAAMuC,eAAe,GAAIC,IAAI,IAAK;IAChC,IAAI,CAACvC,WAAW,EAAE;MAChBR,gBAAgB,CAAC,IAAI,CAAC;MACtB;IACF;IAEA,IAAI+C,IAAI,KAAK,YAAY,EAAE;MACzB;MACAC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,2DAA2D;MAClFpD,eAAe,CAAC,KAAK,CAAC;MACtB;IACF;;IAEA;IACA;IACA,MAAMqD,WAAW,GAAGxC,YAAY,CAACoC,IAAI,CAAC;;IAEtC;IACAK,KAAK,CAAC,oOAAoO,CAAC;IAE3OtD,eAAe,CAAC,KAAK,CAAC;EACxB,CAAC;EAEDvB,SAAS,CAAC,MAAM;IAAA,IAAA8E,qBAAA;IACd,MAAMC,SAAS,GAAG,IAAIC,eAAe,CAACP,MAAM,CAACC,QAAQ,CAACO,MAAM,CAAC;IAC7D,MAAMC,aAAa,GAAGH,SAAS,CAACI,GAAG,CAAC,SAAS,CAAC;IAC9C,MAAMC,KAAK,GAAGL,SAAS,CAACI,GAAG,CAAC,OAAO,CAAC;IACpC,MAAMX,IAAI,GAAGO,SAAS,CAACI,GAAG,CAAC,MAAM,CAAC;IAElC,IAAID,aAAa,KAAK,SAAS,IAAIE,KAAK,IAAInD,WAAW,EAAE;MACvD;MACAoD,KAAK,CAAC,+CAA+C,EAAE;QACrDC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB,CAAC;QAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UACnBN,KAAK,EAAEA,KAAK;UACZO,MAAM,EAAE1D,WAAW,CAAC2D;QACtB,CAAC;MACH,CAAC,CAAC,CACDC,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACvBF,IAAI,CAACG,IAAI,IAAI;QACZ,IAAIA,IAAI,CAACC,OAAO,EAAE;UAChB;UACA7D,YAAY,CAACoC,IAAI,CAAC;;UAElB;UACAK,KAAK,CAAC,qGAAqG,CAAC;;UAE5G;UACAJ,MAAM,CAACyB,OAAO,CAACC,YAAY,CAAC,CAAC,CAAC,EAAEC,QAAQ,CAACC,KAAK,EAAE5B,MAAM,CAACC,QAAQ,CAAC4B,QAAQ,CAAC;QAC3E;MACF,CAAC,CAAC,CACDC,KAAK,CAAClC,GAAG,IAAI;QACZF,OAAO,CAACG,KAAK,CAAC,mCAAmC,EAAED,GAAG,CAAC;MACzD,CAAC,CAAC;IACJ;IACA,CAAAS,qBAAA,GAAAhD,aAAa,CAAC0E,OAAO,cAAA1B,qBAAA,uBAArBA,qBAAA,CAAuB2B,cAAc,CAAC;MAAEC,QAAQ,EAAE;IAAS,CAAC,CAAC;EAC/D,CAAC,EAAE,CAACzE,WAAW,CAAC,EAAE,CAACf,WAAW,CAAC,CAAC;EAEhC,MAAMyF,aAAa,GAAGA,CAAA,KAAM;IAAA,IAAAC,qBAAA,EAAAC,sBAAA;IAC1B,QAAQjF,UAAU;MAChB,KAAK,MAAM;QACT,oBACEjB,OAAA;UAAKmG,SAAS,EAAC,wDAAwD;UAAAC,QAAA,GAEpE9E,WAAW,iBACVtB,OAAA;YAAKmG,SAAS,EAAC,iEAAiE;YAAAC,QAAA,gBAC9EpG,OAAA;cAAKmG,SAAS,EAAC,mCAAmC;cAAAC,QAAA,gBAChDpG,OAAA;gBAAKmG,SAAS,EAAC,yBAAyB;gBAAAC,QAAA,gBACtCpG,OAAA;kBAAKmG,SAAS,EAAC,2HAA2H;kBAAAC,QAAA,EACvI,EAAAH,qBAAA,GAAA3E,WAAW,CAAC+E,WAAW,cAAAJ,qBAAA,wBAAAC,sBAAA,GAAvBD,qBAAA,CAA0B,CAAC,CAAC,cAAAC,sBAAA,uBAA5BA,sBAAA,CAA8BI,WAAW,CAAC,CAAC,KAAI;gBAAG;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAChD,CAAC,eACN1G,OAAA;kBAAAoG,QAAA,gBACEpG,OAAA;oBAAGmG,SAAS,EAAC,6BAA6B;oBAAAC,QAAA,EAAE9E,WAAW,CAAC+E;kBAAW;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,eACxE1G,OAAA;oBAAGmG,SAAS,EAAC,uBAAuB;oBAAAC,QAAA,GACjC9E,WAAW,CAACwB,gBAAgB,KAAK,MAAM,iBACtC9C,OAAA,CAAAE,SAAA;sBAAAkG,QAAA,GAAE,iBACe,EAAC9E,WAAW,CAACgC,gBAAgB,EAAC,GAAC,EAAChC,WAAW,CAACqF,eAAe;oBAAA,eAC1E,CACH,EACArF,WAAW,CAACwB,gBAAgB,KAAK,KAAK,iBACrC9C,OAAA;sBAAMmG,SAAS,EAAC,2BAA2B;sBAAAC,QAAA,EAAC;oBAAuB;sBAAAG,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAM,CAC1E;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACA,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACD,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC,EAGLpF,WAAW,CAACwB,gBAAgB,KAAK,MAAM,IAAIxB,WAAW,CAACgC,gBAAgB,GAAG,CAAC,iBAC1EtD,OAAA;gBACE4G,OAAO,EAAEA,CAAA,KAAM;kBACb5F,gBAAgB,CAAC,SAAS,CAAC;kBAC3BJ,eAAe,CAAC,IAAI,CAAC;gBACvB,CAAE;gBACFuF,SAAS,EAAC,uJAAuJ;gBAAAC,QAAA,EAClK;cAED;gBAAAG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CACT;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACE,CAAC,EAGLpF,WAAW,CAACwB,gBAAgB,KAAK,MAAM,IAAIxB,WAAW,CAACgC,gBAAgB,IAAI,CAAC,IAAIhC,WAAW,CAACgC,gBAAgB,GAAG,CAAC,iBAC/GtD,OAAA;cAAKmG,SAAS,EAAC,2DAA2D;cAAAC,QAAA,eACxEpG,OAAA;gBAAKmG,SAAS,EAAC,mCAAmC;gBAAAC,QAAA,gBAChDpG,OAAA;kBAAGmG,SAAS,EAAC,yBAAyB;kBAAAC,QAAA,GAAC,eAClC,eAAApG,OAAA;oBAAAoG,QAAA,GAAS,CAAC,GAAG9E,WAAW,CAACgC,gBAAgB,EAAC,GAAC,EAAC,CAAC,GAAGhC,WAAW,CAACgC,gBAAgB,KAAK,CAAC,GAAG,OAAO,GAAG,SAAS,EAAC,mBAAiB;kBAAA;oBAAAiD,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC,EACrI,GAAG,EAAC,uCACP;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAG,CAAC,eACJ1G,OAAA;kBACE4G,OAAO,EAAEA,CAAA,KAAM;oBACb5F,gBAAgB,CAAC,OAAO,CAAC;oBACzBJ,eAAe,CAAC,IAAI,CAAC;kBACvB,CAAE;kBACFuF,SAAS,EAAC,wHAAwH;kBAAAC,QAAA,EACnI;gBAED;kBAAAG,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACN;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CACN;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CACN,eAED1G,OAAA,CAACR,YAAY;YAACe,WAAW,EAAEA,WAAY;YAACY,aAAa,EAAEA;UAAc;YAAAoF,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,EAGvEpF,WAAW,IACXA,WAAW,CAACwB,gBAAgB,KAAK,MAAM,IACvCxB,WAAW,CAACgC,gBAAgB,KAAK,CAAC,IAClC/C,WAAW,CAAC6C,MAAM,GAAG,CAAC,iBACrBpD,OAAA;YAAKmG,SAAS,EAAC,kHAAkH;YAAAC,QAAA,eAC/HpG,OAAA;cAAKmG,SAAS,EAAC,kCAAkC;cAAAC,QAAA,gBAC/CpG,OAAA;gBAAAoG,QAAA,gBACEpG,OAAA;kBAAGmG,SAAS,EAAC,kCAAkC;kBAAAC,QAAA,EAAC;gBAAyC;kBAAAG,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAG,CAAC,eAC7F1G,OAAA;kBAAGmG,SAAS,EAAC,4BAA4B;kBAAAC,QAAA,EAAC;gBAAyB;kBAAAG,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAG,CAAC,eACvE1G,OAAA;kBAAImG,SAAS,EAAC,iCAAiC;kBAAAC,QAAA,gBAC7CpG,OAAA;oBAAAoG,QAAA,GAAI,SAAE,eAAApG,OAAA;sBAAAoG,QAAA,EAAQ;oBAAiB;sBAAAG,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAQ,CAAC,cAAU;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,eACvD1G,OAAA;oBAAAoG,QAAA,GAAI,SAAE,eAAApG,OAAA;sBAAAoG,QAAA,EAAQ;oBAAqB;sBAAAG,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAQ,CAAC,mBAAe;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,eAChE1G,OAAA;oBAAAoG,QAAA,GAAI,SAAE,eAAApG,OAAA;sBAAAoG,QAAA,EAAQ;oBAAoB;sBAAAG,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAQ,CAAC,cAAU;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,eAC1D1G,OAAA;oBAAAoG,QAAA,GAAI,SAAE,eAAApG,OAAA;sBAAAoG,QAAA,EAAQ;oBAAa;sBAAAG,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAQ,CAAC,mBAAe;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACtD,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACF,CAAC,eACN1G,OAAA;gBACE4G,OAAO,EAAEA,CAAA,KAAM;kBACb5F,gBAAgB,CAAC,SAAS,CAAC;kBAC3BJ,eAAe,CAAC,IAAI,CAAC;gBACvB,CAAE;gBACFuF,SAAS,EAAC,8KAA8K;gBAAAC,QAAA,EACzL;cAED;gBAAAG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CACN,eAED1G,OAAA,CAACT,QAAQ;YAACsH,QAAQ,EAAEjF,iBAAkB;YAACR,UAAU,EAAEA;UAAW;YAAAmF,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC9D,CAAC;MAGV,KAAK,WAAW;QACd,oBACE1G,OAAA;UAAKmG,SAAS,EAAC,uBAAuB;UAAAC,QAAA,eACpCpG,OAAA;YAAKmG,SAAS,EAAC,mBAAmB;YAAAC,QAAA,gBAChCpG,OAAA;cAAImG,SAAS,EAAC,uCAAuC;cAAAC,QAAA,EAAC;YAAkB;cAAAG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,EAE5E,CAACpF,WAAW,gBACXtB,OAAA;cAAKmG,SAAS,EAAC,4CAA4C;cAAAC,QAAA,gBACzDpG,OAAA;gBAAGmG,SAAS,EAAC,oBAAoB;gBAAAC,QAAA,EAAC;cAAmC;gBAAAG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CAAC,eACzE1G,OAAA;gBACE4G,OAAO,EAAEA,CAAA,KAAM9F,gBAAgB,CAAC,IAAI,CAAE;gBACtCqF,SAAS,EAAC,6EAA6E;gBAAAC,QAAA,EACxF;cAED;gBAAAG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC,gBAEN1G,OAAA,CAAAE,SAAA;cAAAkG,QAAA,gBACEpG,OAAA;gBAAKmG,SAAS,EAAC,4CAA4C;gBAAAC,QAAA,gBACzDpG,OAAA;kBAAKmG,SAAS,EAAC,gCAAgC;kBAAAC,QAAA,gBAC7CpG,OAAA;oBAAImG,SAAS,EAAC,0CAA0C;oBAAAC,QAAA,EAAC;kBAAa;oBAAAG,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,eAC3E1G,OAAA;oBAAGmG,SAAS,EAAC,kCAAkC;oBAAAC,QAAA,GAC5C9E,WAAW,CAACgC,gBAAgB,EAC5BhC,WAAW,CAACwB,gBAAgB,KAAK,MAAM,iBACtC9C,OAAA;sBAAMmG,SAAS,EAAC,uBAAuB;sBAAAC,QAAA,GAAC,GAAC,EAAC9E,WAAW,CAACqF,eAAe;oBAAA;sBAAAJ,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAO,CAC7E;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACA,CAAC,EACHpF,WAAW,CAACwB,gBAAgB,KAAK,MAAM,iBACtC9C,OAAA;oBAAGmG,SAAS,EAAC,4BAA4B;oBAAAC,QAAA,GAAC,YAC9B,EAACzE,iBAAiB,CAAC,CAAC,CAACmF,KAAK,EAAC,IAAE,EAACnF,iBAAiB,CAAC,CAAC,CAACoF,OAAO,EAAC,GACtE;kBAAA;oBAAAR,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAG,CACJ;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACE,CAAC,eAEN1G,OAAA;kBAAKmG,SAAS,EAAC,gCAAgC;kBAAAC,QAAA,gBAC7CpG,OAAA;oBAAImG,SAAS,EAAC,0CAA0C;oBAAAC,QAAA,EAAC;kBAAY;oBAAAG,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,eAC1E1G,OAAA;oBAAGmG,SAAS,EAAC,8CAA8C;oBAAAC,QAAA,EACxD9E,WAAW,CAACwB;kBAAgB;oBAAAyD,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAC5B,CAAC,EACHpF,WAAW,CAAC0F,SAAS,iBACpBhH,OAAA;oBAAGmG,SAAS,EAAC,6BAA6B;oBAAAC,QAAA,EAAC;kBAA0B;oBAAAG,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAG,CACzE;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACE,CAAC,eAEN1G,OAAA;kBAAKmG,SAAS,EAAC,gCAAgC;kBAAAC,QAAA,gBAC7CpG,OAAA;oBAAImG,SAAS,EAAC,0CAA0C;oBAAAC,QAAA,EAAC;kBAAa;oBAAAG,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,eAC3E1G,OAAA;oBAAGmG,SAAS,EAAC,oCAAoC;oBAAAC,QAAA,EAC9C9E,WAAW,CAAC2F;kBAAmB;oBAAAV,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAC/B,CAAC,eACJ1G,OAAA;oBAAGmG,SAAS,EAAC,4BAA4B;oBAAAC,QAAA,EAAC;kBAAQ;oBAAAG,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAG,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACnD,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC,EAELpF,WAAW,CAACwB,gBAAgB,KAAK,MAAM,iBACtC9C,OAAA;gBAAKmG,SAAS,EAAC,kFAAkF;gBAAAC,QAAA,gBAC/FpG,OAAA;kBAAImG,SAAS,EAAC,wBAAwB;kBAAAC,QAAA,EAAC;gBAAc;kBAAAG,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eAC1D1G,OAAA;kBAAGmG,SAAS,EAAC,MAAM;kBAAAC,QAAA,EAAC;gBAA8C;kBAAAG,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAG,CAAC,eACtE1G,OAAA;kBAAKmG,SAAS,EAAC,YAAY;kBAAAC,QAAA,gBACzBpG,OAAA;oBAAKmG,SAAS,EAAC,oDAAoD;oBAAAC,QAAA,gBACjEpG,OAAA;sBAAGmG,SAAS,EAAC,cAAc;sBAAAC,QAAA,EAAC;oBAAO;sBAAAG,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAG,CAAC,eACvC1G,OAAA;sBAAGmG,SAAS,EAAC,oBAAoB;sBAAAC,QAAA,GAAC,QAC/B,EAAC9E,WAAW,CAAC0F,SAAS,GAAG,KAAK,GAAG,KAAK,eACvChH,OAAA;wBAAMmG,SAAS,EAAC,qBAAqB;wBAAAC,QAAA,EAAC;sBAAM;wBAAAG,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAM,CAAC;oBAAA;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAClD,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACD,CAAC,eACN1G,OAAA;oBAAKmG,SAAS,EAAC,oDAAoD;oBAAAC,QAAA,gBACjEpG,OAAA;sBAAGmG,SAAS,EAAC,cAAc;sBAAAC,QAAA,GAAC,SAAO,eAAApG,OAAA;wBAAMmG,SAAS,EAAC,SAAS;wBAAAC,QAAA,EAAC;sBAAU;wBAAAG,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAM,CAAC;oBAAA;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAG,CAAC,eAClF1G,OAAA;sBAAGmG,SAAS,EAAC,oBAAoB;sBAAAC,QAAA,GAAC,QAC/B,EAAC9E,WAAW,CAAC0F,SAAS,GAAG,OAAO,GAAG,OAAO,eAC3ChH,OAAA;wBAAMmG,SAAS,EAAC,qBAAqB;wBAAAC,QAAA,EAAC;sBAAK;wBAAAG,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAM,CAAC;oBAAA;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACjD,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACD,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACH,CAAC,eACN1G,OAAA;kBACE4G,OAAO,EAAEA,CAAA,KAAMhG,eAAe,CAAC,IAAI,CAAE;kBACrCuF,SAAS,EAAC,oGAAoG;kBAAAC,QAAA,EAC/G;gBAED;kBAAAG,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACN,CACN;YAAA,eACD,CACH;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAGV,KAAK,WAAW;QACd,oBACE1G,OAAA;UAAKmG,SAAS,EAAC,qCAAqC;UAAAC,QAAA,eAClDpG,OAAA;YAAKmG,SAAS,EAAC,mBAAmB;YAAAC,QAAA,gBAChCpG,OAAA;cAAImG,SAAS,EAAC,uCAAuC;cAAAC,QAAA,EAAC;YAAgB;cAAAG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,EAE1E,CAACpF,WAAW,gBACXtB,OAAA;cAAKmG,SAAS,EAAC,4CAA4C;cAAAC,QAAA,gBACzDpG,OAAA;gBAAGmG,SAAS,EAAC,oBAAoB;gBAAAC,QAAA,EAAC;cAAuC;gBAAAG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CAAC,eAC7E1G,OAAA;gBACE4G,OAAO,EAAEA,CAAA,KAAM9F,gBAAgB,CAAC,IAAI,CAAE;gBACtCqF,SAAS,EAAC,6EAA6E;gBAAAC,QAAA,EACxF;cAED;gBAAAG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC,GACJnG,WAAW,CAAC6C,MAAM,KAAK,CAAC,gBAC1BpD,OAAA;cAAKmG,SAAS,EAAC,6CAA6C;cAAAC,QAAA,gBAC1DpG,OAAA;gBAAGmG,SAAS,EAAC,uBAAuB;gBAAAC,QAAA,EAAC;cAAwB;gBAAAG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CAAC,eACjE1G,OAAA;gBAAGmG,SAAS,EAAC,oBAAoB;gBAAAC,QAAA,EAAC;cAAoC;gBAAAG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CAAC,eAC1E1G,OAAA;gBACE4G,OAAO,EAAEA,CAAA,KAAM1F,aAAa,CAAC,MAAM,CAAE;gBACrCiF,SAAS,EAAC,kFAAkF;gBAAAC,QAAA,EAC7F;cAED;gBAAAG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC,gBAEN1G,OAAA;cAAKmG,SAAS,EAAC,WAAW;cAAAC,QAAA,EACvB7F,WAAW,CAAC2G,GAAG,CAAC,CAACC,IAAI,EAAEC,KAAK;gBAAA,IAAAC,cAAA,EAAAC,gBAAA,EAAAC,cAAA;gBAAA,oBAC3BvH,OAAA;kBAAiBmG,SAAS,EAAC,8DAA8D;kBAAAC,QAAA,gBACvFpG,OAAA;oBAAKmG,SAAS,EAAC,uCAAuC;oBAAAC,QAAA,gBACpDpG,OAAA;sBAAKmG,SAAS,EAAC,QAAQ;sBAAAC,QAAA,gBACrBpG,OAAA;wBAAImG,SAAS,EAAC,sCAAsC;wBAAAC,QAAA,EAAEe,IAAI,CAACtF;sBAAK;wBAAA0E,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAK,CAAC,eACtE1G,OAAA;wBAAGmG,SAAS,EAAC,uBAAuB;wBAAAC,QAAA,EACjC,IAAI5D,IAAI,CAAC2E,IAAI,CAAC5E,SAAS,CAAC,CAACiF,cAAc,CAAC;sBAAC;wBAAAjB,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACzC,CAAC;oBAAA;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACD,CAAC,eACN1G,OAAA;sBAAKmG,SAAS,EAAC,YAAY;sBAAAC,QAAA,gBACzBpG,OAAA;wBAAMmG,SAAS,EAAC,mFAAmF;wBAAAC,QAAA,EAChGe,IAAI,CAAC9D,IAAI,IAAI;sBAAM;wBAAAkD,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAChB,CAAC,eACP1G,OAAA;wBAAMmG,SAAS,EAAC,wEAAwE;wBAAAC,QAAA,GAAC,GACtF,EAACgB,KAAK,GAAG,CAAC;sBAAA;wBAAAb,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACP,CAAC;oBAAA;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACJ,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACH,CAAC,EAELS,IAAI,CAACnF,OAAO,iBACXhC,OAAA;oBAAKmG,SAAS,EAAC,wDAAwD;oBAAAC,QAAA,gBACrEpG,OAAA;sBAAGmG,SAAS,EAAC,0CAA0C;sBAAAC,QAAA,EAAC;oBAAO;sBAAAG,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAG,CAAC,eACnE1G,OAAA;sBAAGmG,SAAS,EAAC,oDAAoD;sBAAAC,QAAA,EAAEe,IAAI,CAACnF;oBAAO;sBAAAuE,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACjF,CACN,eAED1G,OAAA;oBAAKmG,SAAS,EAAC,kCAAkC;oBAAAC,QAAA,GAC9C,EAAAiB,cAAA,GAAAF,IAAI,CAAClF,QAAQ,cAAAoF,cAAA,uBAAbA,cAAA,CAAejE,MAAM,IAAG,CAAC,iBACxBpD,OAAA;sBAAAoG,QAAA,GAAM,eAAG,EAACe,IAAI,CAAClF,QAAQ,CAACmB,MAAM,EAAC,WAAS;oBAAA;sBAAAmD,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAM,CAC/C,EACA,EAAAY,gBAAA,GAAAH,IAAI,CAACjF,UAAU,cAAAoF,gBAAA,uBAAfA,gBAAA,CAAiBlE,MAAM,IAAG,CAAC,iBAC1BpD,OAAA;sBAAAoG,QAAA,GAAM,eAAG,EAACe,IAAI,CAACjF,UAAU,CAACkB,MAAM,EAAC,aAAW;oBAAA;sBAAAmD,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAM,CACnD,EACA,EAAAa,cAAA,GAAAJ,IAAI,CAAChF,QAAQ,cAAAoF,cAAA,uBAAbA,cAAA,CAAenE,MAAM,IAAG,CAAC,iBACxBpD,OAAA;sBAAAoG,QAAA,GAAM,qBAAI,EAACe,IAAI,CAAChF,QAAQ,CAACiB,MAAM,EAAC,YAAU;oBAAA;sBAAAmD,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAM,CACjD;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACE,CAAC;gBAAA,GAnCEU,KAAK;kBAAAb,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAoCV,CAAC;cAAA,CACP;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CACN;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAGV;QACE,OAAO,IAAI;IACf;EACF,CAAC;EAED,oBACE1G,OAAA;IAAKmG,SAAS,EAAC,eAAe;IAAAC,QAAA,GAC3B/F,WAAW,iBACVL,OAAA,CAACV,OAAO;MACNmI,KAAK,EAAEA,CAAA,KAAMnH,cAAc,CAAC,KAAK,CAAE;MACnCoH,eAAe,EAAEA,CAAA,KAAMhH,eAAe,CAAC,IAAI,CAAE;MAC7CiH,cAAc,EAAEA,CAAA,KAAM;QACpB3G,gBAAgB,CAAC,SAAS,CAAC;QAC3BJ,eAAe,CAAC,IAAI,CAAC;MACvB,CAAE;MACFgH,YAAY,EAAEA,CAAA,KAAM9G,gBAAgB,CAAC,IAAI,CAAE;MAC3CG,UAAU,EAAEA,UAAW;MACvBC,aAAa,EAAEA,aAAc;MAC7BI,WAAW,EAAEA;IAAY;MAAAiF,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC1B,CACF,EAEAV,aAAa,CAAC,CAAC,eAEhBhG,OAAA,CAACP,aAAa;MAACoI,MAAM,EAAEpH,YAAa;MAACqH,OAAO,EAAEA,CAAA,KAAMpH,eAAe,CAAC,KAAK;IAAE;MAAA6F,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAE9E1G,OAAA,CAACN,iBAAiB;MAChBmI,MAAM,EAAElH,YAAa;MACrBmH,OAAO,EAAEA,CAAA,KAAMlH,eAAe,CAAC,KAAK,CAAE;MACtCmH,WAAW,EAAEnE,eAAgB;MAC7BoE,WAAW,EAAE,CAAA1G,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAEwB,gBAAgB,KAAI,MAAO;MACrDmF,MAAM,EAAElH;IAAc;MAAAwF,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACvB,CAAC,eAEF1G,OAAA,CAACL,SAAS;MACRkI,MAAM,EAAEhH,aAAc;MACtBiH,OAAO,EAAEA,CAAA,KAAMhH,gBAAgB,CAAC,KAAK,CAAE;MACvCoH,WAAW,EAAC;IAAO;MAAA3B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACpB,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACC,CAAC;AAEV;;AAEA;AAAAtG,EAAA,CA5dSD,UAAU;EAAA,QAmBbL,OAAO;AAAA;AAAAqI,EAAA,GAnBJhI,UAAU;AA6dnB,SAASiI,GAAGA,CAAA,EAAG;EACb,oBACEpI,OAAA,CAACH,YAAY;IAAAuG,QAAA,eACXpG,OAAA,CAACG,UAAU;MAAAoG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACF,CAAC;AAEnB;AAAC2B,GAAA,GANQD,GAAG;AAQZ,eAAeA,GAAG;AAAC,IAAAD,EAAA,EAAAE,GAAA;AAAAC,YAAA,CAAAH,EAAA;AAAAG,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}